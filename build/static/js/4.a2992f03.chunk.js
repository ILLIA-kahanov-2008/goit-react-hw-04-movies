(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4,9],{102:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return s}));var n=a(93),r=a(96),c=a(1);function s(t){var e=t.message;return Object(c.jsx)(n.a,{text:e,children:Object(c.jsx)(r.a,{})})}},108:function(t,e,a){"use strict";e.a=a.p+"static/media/default_backdrop.5312a185.jpg"},109:function(t,e,a){"use strict";a(0);var n=a(6),r=a(110),c=a.n(r),s=a(1);e.a=function(t){var e=t.movieID,a=t.backdrop,r=t.title,i=t.rating,o=t.releaseDate,u=t.cbOnClick;return Object(s.jsx)("li",{className:c.a.item,onClick:function(){return u(e)},children:Object(s.jsx)(n.b,{to:"/movies/".concat(e),className:c.a.Link,children:Object(s.jsxs)("article",{className:c.a.card,children:[Object(s.jsx)("img",{className:c.a.cardImage,src:a,alt:r}),Object(s.jsxs)("div",{className:c.a.cardContent,children:[Object(s.jsx)("h2",{className:c.a.movieName,children:r}),Object(s.jsxs)("p",{className:c.a.movieRating,children:[" Rating: ",i," "]}),Object(s.jsxs)("p",{className:c.a.movieReleaseDate,children:["Movie released at: ",o]})]})]})})})}},110:function(t,e,a){t.exports={item:"GalleryItem_item__2yA08",Link:"GalleryItem_Link__1wj65",card:"GalleryItem_card__3Uqpj",cardContent:"GalleryItem_cardContent__RqBAy",cardImage:"GalleryItem_cardImage__1yBX9",movieName:"GalleryItem_movieName__1TFU0",movieRating:"GalleryItem_movieRating__19GP1"}},151:function(t,e,a){t.exports={paginationList:"PaginationList_paginationList__1FSnB",paginationItem:"PaginationList_paginationItem__3hc01",link:"PaginationList_link__6bpGr",activeLink:"PaginationList_activeLink__2h4mx"}},169:function(t,e,a){"use strict";a.r(e);var n=a(99),r=a(98),c=a(0),s=a(94),i=a(109),o=a(93),u=a(16),l=a(147),p=a.n(l),b=a(151),m=a.n(b),d=a(1);var f=function(t){var e=t.currentPage,a=t.itemsPerPage,n=t.totalPages,r=t.displayedItems,c=t.handlePageChange;return Object(d.jsx)(p.a,{activePage:e,itemsCountPerPage:a,totalItemsCount:n,pageRangeDisplayed:r,onChange:c,innerClass:m.a.paginationList,activeClass:m.a.activeItem,itemClass:m.a.paginationItem,linkClass:m.a.link,activeLinkClass:m.a.activeLink,prevPageText:"prev",nextPageText:"next"})},g=a(102),v=a(108),h="pending",j="resolved",_="rejected";e.default=function(t){var e=t.history,a=Object(c.useState)([]),l=Object(r.a)(a,2),p=l[0],b=l[1],m=Object(c.useState)(3),x=Object(r.a)(m,2),k=x[0],O=x[1],w=Object(c.useState)(0),y=Object(r.a)(w,2),P=y[0],C=y[1],L=e.push,I=e.location,N=Object(c.useState)(h),G=Object(r.a)(N,2),S=G[0],E=G[1],B=Object(c.useState)(null),R=Object(r.a)(B,2),T=(R[0],R[1]),D=Object(c.useState)(0),A=Object(r.a)(D,2),U=A[0],q=A[1],F=Object(c.useState)(""),H=Object(r.a)(F,2),J=H[0],K=H[1];Object(c.useEffect)((function(){""!==I.search&&O(Number(new URLSearchParams(I.search).get("page"))),I.state?(K("Loading ".concat(k," page")),b(I.state.movies),q(I.state.pageScrollHeight),C(I.state.totalPages),E(j)):(q(0),K("Loading trending movies"),Object(s.d)(k).then((function(t){b(Object(n.a)(t.results)),C(t.total_results),E(j),I.search="page=".concat(k),L("/?"+I.search)})))}),[]),Object(c.useEffect)((function(){window.scrollTo({top:U,behavior:"smooth"})}),[U]);var M=function(t){L({state:{from:I},pathname:"/movies/"+t}),I.state={movies:p,pageScrollHeight:document.documentElement.scrollTop,totalPages:P}};if(S===j||S===h)return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(o.a,{text:"Trending today",children:Object(d.jsx)(f,{currentPage:k,itemsPerPage:20,totalPages:P,displayedItems:5,handlePageChange:function(t){E(h),K("Loading ".concat(t," page")),Object(s.d)(t).then((function(e){if(0===e.total_results)throw new Error("we couldn't find any results");b(Object(n.a)(e.results)),E(j),I.search="page=".concat(t),L("/?"+I.search)})).catch((function(t){E(_),T(t.message)})),O(t)}})}),Object(d.jsx)("ul",{className:"moviesList",id:"moviesList",children:p&&p.map((function(t){var e=t.id,a=t.backdrop_path,n=t.original_title,r=t.vote_average,c=t.release_date,s=a?"https://image.tmdb.org/t/p/w780/".concat(a):v.a;return Object(d.jsx)(i.a,{backdrop:s,title:n,rating:r,releaseDate:c,movieID:e,cbOnClick:M},e)}))}),S===h&&Object(d.jsx)(u.a,{title:J})]});S===_&&g.default}},93:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var n=a(95),r=a.n(n),c=a(1);function s(t){var e=t.text,a=t.children;return Object(c.jsxs)("div",{className:r.a.titleContainer,children:[Object(c.jsx)("h1",{className:r.a.title,children:e}),a]})}},94:function(t,e,a){"use strict";a.d(e,"d",(function(){return u})),a.d(e,"e",(function(){return p})),a.d(e,"b",(function(){return m})),a.d(e,"a",(function(){return f})),a.d(e,"c",(function(){return v}));var n=a(105),r=a.n(n),c=a(106),s=a(107),i=a.n(s),o="12ae81efe6e825dc1785f3d595e1c6cf";function u(t){return l.apply(this,arguments)}function l(){return(l=Object(c.a)(r.a.mark((function t(e){var a,n,c,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"trending/movie/week",a="?api_key=".concat(o,"&page=").concat(e),n="trending/movie/week"+a,t.prev=3,t.next=6,i.a.get(n);case 6:if(c=t.sent,s=c.data,400!==c.status){t.next=10;break}throw new Error;case 10:if(200!==c.status){t.next=12;break}return t.abrupt("return",s);case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(3),t.abrupt("return",t.t0.status_message);case 17:case"end":return t.stop()}}),t,null,[[3,14]])})))).apply(this,arguments)}function p(t,e){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(r.a.mark((function t(e,a){var n,c,s,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"search/movie",n="?api_key=".concat(o,"&page=").concat(e,"&query=").concat(a),c="search/movie"+n,t.prev=3,t.next=6,i.a.get(c);case 6:if(s=t.sent,u=s.data,400!==s.status){t.next=10;break}throw new Error;case 10:if(200!==s.status){t.next=12;break}return t.abrupt("return",u);case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(3),t.abrupt("return",t.t0.status_message);case 17:case"end":return t.stop()}}),t,null,[[3,14]])})))).apply(this,arguments)}function m(t){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(r.a.mark((function t(e){var a,n,c,s,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="movie/".concat(e),n="?api_key=".concat(o),c=a+n,t.prev=3,t.next=6,i.a.get(c);case 6:if(s=t.sent,u=s.data,400!==s.status){t.next=10;break}throw new Error;case 10:if(200!==s.status){t.next=12;break}return t.abrupt("return",u);case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(3),t.abrupt("return",t.t0.status_message);case 17:case"end":return t.stop()}}),t,null,[[3,14]])})))).apply(this,arguments)}function f(t){return g.apply(this,arguments)}function g(){return(g=Object(c.a)(r.a.mark((function t(e){var a,n,c,s,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="movie/".concat(e,"/credits"),n="?api_key=".concat(o),c=a+n,t.prev=3,t.next=6,i.a.get(c);case 6:if(s=t.sent,u=s.data.cast,400!==s.status){t.next=10;break}throw new Error;case 10:if(200!==s.status){t.next=12;break}return t.abrupt("return",u);case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(3),t.abrupt("return",t.t0.status_message);case 17:case"end":return t.stop()}}),t,null,[[3,14]])})))).apply(this,arguments)}function v(t){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(r.a.mark((function t(e){var a,n,c,s,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="movie/".concat(e,"/reviews"),n="?api_key=".concat(o),c=a+n,t.prev=3,t.next=6,i.a.get(c);case 6:if(s=t.sent,u=s.data.results,400!==s.status){t.next=10;break}throw new Error;case 10:if(200!==s.status){t.next=12;break}return t.abrupt("return",u);case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(3),t.abrupt("return",t.t0.status_message);case 17:case"end":return t.stop()}}),t,null,[[3,14]])})))).apply(this,arguments)}i.a.defaults.baseURL="https://api.themoviedb.org/3/"},95:function(t,e,a){t.exports={title:"PageTitle_title__1ACpZ",titleContainer:"PageTitle_titleContainer__BObiw"}},96:function(t,e,a){"use strict";var n=a(2),r=a(97),c=a.n(r),s=a(1);e.a=function(){var t=Object(n.g)(),e=t.push,a=t.location;return Object(s.jsx)("button",{className:c.a.button,type:"button",onClick:function(){var t;return e((null===(t=a.state)||void 0===t?void 0:t.from)||"/")},children:"GO BACK"})}},97:function(t,e,a){t.exports={button:"GoBackBtn_button__1sl9N","hvr-button":"GoBackBtn_hvr-button__3EWD6"}}}]);
//# sourceMappingURL=4.a2992f03.chunk.js.map