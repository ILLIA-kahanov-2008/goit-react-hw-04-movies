(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4,7],{102:function(e,t,r){"use strict";r(0);var n=r(6),o=r(103),a=r.n(o),s=r(1);t.a=function(e){var t=e.movieID,r=e.backdrop,o=e.title,i=e.rating,c=e.releaseDate,l=e.cbOnClick;return Object(s.jsx)("li",{className:a.a.item,onClick:function(){return l(t)},children:Object(s.jsx)(n.b,{to:"/movies/".concat(t),className:a.a.Link,children:Object(s.jsxs)("article",{className:a.a.card,children:[Object(s.jsx)("img",{className:a.a.cardImage,src:r,alt:o}),Object(s.jsxs)("div",{className:a.a.cardContent,children:[Object(s.jsx)("h2",{className:a.a.movieName,children:o}),Object(s.jsxs)("p",{className:a.a.movieRating,children:[" Rating:",i]}),Object(s.jsxs)("p",{className:a.a.movieReleaseDate,children:["Movie released at: ",c]})]})]})})})}},103:function(e,t,r){e.exports={item:"GalleryItem_item__2yA08",Link:"GalleryItem_Link__1wj65",card:"GalleryItem_card__3Uqpj",cardContent:"GalleryItem_cardContent__RqBAy",cardImage:"GalleryItem_cardImage__1yBX9",movieName:"GalleryItem_movieName__1TFU0",movieReleaseDate:"GalleryItem_movieReleaseDate__3o1Xu",movieRating:"GalleryItem_movieRating__19GP1",portfolio__item:"GalleryItem_portfolio__item__2YI9x",portfolio__link:"GalleryItem_portfolio__link__2RMV4","portfolio__item-description":"GalleryItem_portfolio__item-description__ljiCJ","portfolio__item-title":"GalleryItem_portfolio__item-title__19bGf","portfolio__item-filter":"GalleryItem_portfolio__item-filter__2rXQm"}},107:function(e,t,r){"use strict";t.a=r.p+"static/media/default_backdrop.5312a185.jpg"},108:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(100);var o=r(101);function a(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},117:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return s}));var n=r(94),o=r(29),a=r(1);function s(e){var t=e.message;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(o.a,{}),Object(a.jsx)(n.a,{text:t})]})}},118:function(e,t,r){e.exports={SearchBar:"SearchForm_SearchBar__2j8Dh",SearchForm:"SearchForm_SearchForm__2490l",SearchFormBtn:"SearchForm_SearchFormBtn__13NJu",SearchFormBtnLabel:"SearchForm_SearchFormBtnLabel__W1Wgz",SearchFormInput:"SearchForm_SearchFormInput__2M71k"}},142:function(e,t,r){"use strict";r.r(t);var n=r(108),o=r(97),a=r(0),s=r.n(a),i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},i(e,t)};var c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)};var l="Pixel",u="Percent",h={unit:u,value:.8};function p(e){return"number"===typeof e?{unit:u,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:l,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:u,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),h):(console.warn("scrollThreshold should be string or number"),h)}var m=function(e){function t(t){var r=e.call(this,t)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:"string"===typeof r.props.scrollableTarget?document.getElementById(r.props.scrollableTarget):(null===r.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},r.onStart=function(e){r.lastScrollTop||(r.dragging=!0,e instanceof MouseEvent?r.startY=e.pageY:e instanceof TouchEvent&&(r.startY=e.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(e){r.dragging&&(e instanceof MouseEvent?r.currentY=e.pageY:e instanceof TouchEvent&&(r.currentY=e.touches[0].pageY),r.currentY<r.startY||(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),r.currentY-r.startY>1.5*r.maxPullDownDistance||r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")}))},r.onScrollListener=function(e){"function"===typeof r.props.onScroll&&setTimeout((function(){return r.props.onScroll&&r.props.onScroll(e)}),0);var t=r.props.height||r._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;r.actionTriggered||((r.props.inverse?r.isElementAtTop(t,r.props.scrollThreshold):r.isElementAtBottom(t,r.props.scrollThreshold))&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=t.scrollTop)},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},r.throttledOnScrollListener=function(e,t,r,n){var o,a=!1,s=0;function i(){o&&clearTimeout(o)}function c(){var c=this,l=Date.now()-s,u=arguments;function h(){s=Date.now(),r.apply(c,u)}function p(){o=void 0}a||(n&&!o&&h(),i(),void 0===n&&l>e?h():!0!==t&&(o=setTimeout(n?p:h,void 0===n?e-l:e)))}return"boolean"!==typeof t&&(n=r,r=t,t=void 0),c.cancel=function(){i(),a=!0},c}(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?c(c({},t),{prevDataLength:e.dataLength}):null},t.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var r=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,n=p(t);return n.unit===l?e.scrollTop<=n.value+r-e.scrollHeight+1:e.scrollTop<=n.value/100+r-e.scrollHeight+1},t.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var r=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,n=p(t);return n.unit===l?e.scrollTop+r>=e.scrollHeight-n.value:e.scrollTop+r>=n.value/100*e.scrollHeight},t.prototype.render=function(){var e=this,t=c({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),r=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),n=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return s.a.createElement("div",{style:n,className:"infinite-scroll-component__outerdiv"},s.a.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&s.a.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},s.a.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!r&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(a.Component),d=m,f=(r(15),r(118)),v=r.n(f),b=r(1);var g=function(e){var t=e.onSubmit,r=Object(a.useState)(""),n=Object(o.a)(r,2),s=n[0],i=n[1];return Object(b.jsx)("div",{className:v.a.SearchBar,children:Object(b.jsxs)("form",{className:v.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==s.trim()?(t(s,1),console.log("SEARCH_FORM submit :>> ",s),i("")):alert("Enter query before submit")},children:[Object(b.jsx)("button",{type:"submit",className:v.a.SearchFormBtn,children:Object(b.jsx)("span",{className:v.a.SearchFormBtnLabel,children:"Search"})}),Object(b.jsx)("input",{className:v.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies...",value:s,name:"query",onChange:function(e){var t=e.target,r=t.name,n=t.value;"query"===r&&i(n.trim())}})]})})},_=r(102),j=r(95),y=r(107),S=r(117),w=r(16),O=r(94),x="idle",E="pending",T="resolved",L="rejected";t.default=function(e){var t=e.history,r=(e.match,Object(a.useState)("")),s=Object(o.a)(r,2),i=s[0],c=s[1],l=Object(a.useState)(1),u=Object(o.a)(l,2),h=u[0],p=u[1],m=Object(a.useState)([]),f=Object(o.a)(m,2),v=f[0],k=f[1],D=Object(a.useState)(0),F=Object(o.a)(D,2),M=F[0],R=F[1],Y=Object(a.useState)(x),I=Object(o.a)(Y,2),N=I[0],C=I[1],A=Object(a.useState)(null),B=Object(o.a)(A,2),P=B[0],G=B[1],H=Object(a.useState)(""),q=Object(o.a)(H,2),U=q[0],V=q[1],W=Object(a.useState)(0),J=Object(o.a)(W,2),X=J[0],z=J[1],$=Object(a.useState)(""),Q=Object(o.a)($,2),Z=Q[0],K=Q[1],ee=t.push,te=t.location;Object(a.useEffect)((function(){""!==te.search?(c(new URLSearchParams(te.search).get("query")),p(Number(new URLSearchParams(te.search).get("page"))+1)):V("Enter your query to search movies!")}),[]),Object(a.useEffect)((function(){i?(C(E),null===te.state?(K('Loading movies with name "'.concat(i,'"')),Object(j.e)(h,i).then((function(e){console.log("MOVIES_PAGE DidUpdate searchMovies response",e),k(e.results),R(e.total_pages),C(T),V("We had found ".concat(e.total_results,' movies by "').concat(i,'" ')),p(h+1),te.search="query=".concat(i,"&page=").concat(h),ee("/movies?"+te.search)})).catch((function(e){C(L),G(e)}))):(k(te.state.movies),z(te.state.pageScrollHeight),R(te.state.totalPages),V(te.state.titleText),C(T))):console.log("MOVIES_PAGE DidUpdate !query, so return :>> ",i)}),[i]),Object(a.useEffect)((function(){window.scrollTo({top:X,behavior:"smooth"})}),[X]);var re=function(e,t){te.search="query=".concat(e,"&page=").concat(t),te.state=null,c(e),p(t),R(0),z(0),k([])},ne=function(e){ee({state:{from:te},pathname:"/movies/"+e}),te.state={movies:v,pageScrollHeight:document.documentElement.scrollTop,totalPages:M,titleText:U},console.log("MOVIES_PAGE scrollTop:>> ",document.documentElement.scrollTop)};return N===x?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(O.a,{text:U}),Object(b.jsx)(g,{onSubmit:re})]}):N===T||N===E?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(O.a,{text:U}),Object(b.jsx)(g,{onSubmit:re}),v.length>0&&Object(b.jsx)(d,{dataLength:v.length,next:function(){C(E),K("Loading ".concat(h," page")),Object(j.e)(h,i).then((function(e){var t=e.results;k([].concat(Object(n.a)(v),Object(n.a)(t))),C(T),te.search="query=".concat(i,"&page=").concat(h),ee("/movies?"+te.search),p(h+1)})).catch((function(e){C(L),G(e)}))},hasMore:M>=h,loader:Object(b.jsx)("h4",{children:"Loading..."}),endMessage:Object(b.jsx)("p",{style:{textAlign:"center"},children:Object(b.jsx)("b",{children:"Yay! You have seen it all"})}),children:Object(b.jsx)("ul",{className:"moviesList",id:"moviesList",children:v.map((function(e){var t=e.id,r=e.backdrop_path,n=e.original_title,o=e.vote_average,a=e.release_date,s=r?"https://image.tmdb.org/t/p/w780/".concat(r):y.a;return Object(b.jsx)(_.a,{backdrop:s,title:n,rating:o,releaseDate:a,movieID:t,cbOnClick:ne},t)}))})}),N===E&&Object(b.jsx)(w.a,{title:Z})]}):N===L?Object(b.jsx)(S.default,{message:P}):void 0}},94:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(96),o=r.n(n),a=r(1);function s(e){var t=e.text;return Object(a.jsx)("h1",{className:o.a.title,children:t})}},95:function(e,t,r){"use strict";r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return h})),r.d(t,"b",(function(){return m})),r.d(t,"a",(function(){return f})),r.d(t,"c",(function(){return b}));var n=r(104),o=r.n(n),a=r(105),s=r(106),i=r.n(s),c="12ae81efe6e825dc1785f3d595e1c6cf";function l(e){return u.apply(this,arguments)}function u(){return(u=Object(a.a)(o.a.mark((function e(t){var r,n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"trending/movie/week",r="?api_key=".concat(c,"&page=").concat(t),n="trending/movie/week"+r,e.prev=3,e.next=6,i.a.get(n);case 6:if(a=e.sent,s=a.data,400!==a.status){e.next=10;break}throw new Error;case 10:if(200!==a.status){e.next=12;break}return e.abrupt("return",s);case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return",e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}function h(e,t){return p.apply(this,arguments)}function p(){return(p=Object(a.a)(o.a.mark((function e(t,r){var n,a,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"search/movie",n="?api_key=".concat(c,"&page=").concat(t,"&query=").concat(r),a="search/movie"+n,e.prev=3,e.next=6,i.a.get(a);case 6:if(s=e.sent,l=s.data,400!==s.status){e.next=10;break}throw new Error;case 10:if(200!==s.status){e.next=12;break}return e.abrupt("return",l);case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return",e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return(d=Object(a.a)(o.a.mark((function e(t){var r,n,a,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="movie/".concat(t),n="?api_key=".concat(c),a=r+n,e.prev=3,e.next=6,i.a.get(a);case 6:if(s=e.sent,l=s.data,400!==s.status){e.next=10;break}throw new Error;case 10:if(200!==s.status){e.next=12;break}return e.abrupt("return",l);case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return",e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}function f(e){return v.apply(this,arguments)}function v(){return(v=Object(a.a)(o.a.mark((function e(t){var r,n,a,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="movie/".concat(t,"/credits"),n="?api_key=".concat(c),a=r+n,e.prev=3,e.next=6,i.a.get(a);case 6:if(s=e.sent,l=s.data.cast,400!==s.status){e.next=10;break}throw new Error;case 10:if(200!==s.status){e.next=12;break}return e.abrupt("return",l);case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return",e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return(g=Object(a.a)(o.a.mark((function e(t){var r,n,a,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="movie/".concat(t,"/reviews"),n="?api_key=".concat(c),a=r+n,e.prev=3,e.next=6,i.a.get(a);case 6:if(s=e.sent,l=s.data.results,400!==s.status){e.next=10;break}throw new Error;case 10:if(200!==s.status){e.next=12;break}return e.abrupt("return",l);case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return",e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}i.a.defaults.baseURL="https://api.themoviedb.org/3/"},96:function(e,t,r){e.exports={title:"PageTitle_title__1ACpZ"}}}]);
//# sourceMappingURL=4.8ad98f9d.chunk.js.map