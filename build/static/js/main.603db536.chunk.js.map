{"version":3,"sources":["components/Container/Container.module.css","components/Navigation/Navigation.module.css","components/AppHeader/AppHeader.module.css","components/Navigation/Navigation.jsx","components/AppHeader/AppHeader.jsx","components/App/App.jsx","index.js"],"names":["module","exports","Navigation","className","s","navList","exact","to","activeClassName","AppHeader","styles","header","MoviesPage","lazy","HomePage","MovieDetailsPage","NotFoundPage","App","useState","currentPage","setCurrentPage","fetching","setFetching","totalMoviesPages","setTotalMoviesPages","useEffect","console","log","document","addEventListener","scrollHandler","documentElement","removeEventListener","e","scrollHeight","window","innerHeight","scrollTop","differenceHeight","target","toggleFetching","value","incrementPageNumber","prevPage","getTotalMoviesPages","totalPages","fallback","path","render","routerProps","pageNumber","setTotalPages","component","ReactDOM","StrictMode","getElementById"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,UAAY,+B,mBCA9BD,EAAOC,QAAU,CAAC,QAAU,8B,mBCA5BD,EAAOC,QAAU,CAAC,OAAS,4B,uMCEpB,SAASC,IACd,OACE,sBAAKC,UAAWC,IAAEC,QAAlB,UAEM,cAAC,IAAD,CACEC,OAAK,EACLC,GAAG,IACHJ,UAAU,UACVK,gBAAgB,gBAJlB,kBASA,cAAC,IAAD,CACED,GAAG,UACHJ,UAAU,UACVK,gBAAgB,gBAHlB,uB,qBCZK,SAASC,IACtB,OAEE,wBAAQN,UAAWO,IAAOC,OAA1B,SACE,cAACT,EAAD,MCCN,IAAMU,EAAaC,gBAAK,kBAAK,sDACvBC,EAAWD,gBAAK,kBAAM,sDACtBE,EAAmBF,gBAAK,kBAAM,sDAC9BG,EAAeH,gBAAK,kBAAM,gCAwFjBI,MAtFf,WACE,MAAsCC,mBAAS,GAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAAgCF,oBAAS,GAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAAgDJ,mBAAS,GAAzD,mBAAOK,EAAP,KAAyBC,EAAzB,KAkBAC,qBAAU,WAIR,OAFAC,QAAQC,IAAI,gBACZC,SAASC,iBAAiB,SAAUC,GAC7B,WACLF,SAASG,gBAAgBC,oBAAoB,SAAUF,MAGzD,IAEF,IAAMA,EAAgB,SAACG,GACrBP,QAAQC,IAAI,aACZD,QAAQC,IACN,mCAAoCC,SAASG,gBAAgBG,aAC7D,0BAA2BC,OAAOC,YAClC,0CAA2CR,SAASG,gBAAgBM,WAEtE,IAAIC,EAAmBL,EAAEM,OAAOR,gBAAgBG,cAAgBD,EAAEM,OAAOR,gBAAgBM,UAAYF,OAAOC,aAC5GV,QAAQC,IAAI,oBAAqBW,GAE7BL,EAAEM,OAAOR,gBAAgBG,cAAgBD,EAAEM,OAAOR,gBAAgBM,UAAYF,OAAOC,aAAe,KAAOjB,EAAcI,GAC3HD,GAAY,IAIVkB,EAAiB,SAACC,GAAD,OAAWnB,EAAYmB,IACxCC,EAAsB,kBAAMtB,GAAe,SAAAuB,GAAQ,OAAIA,EAAW,MAClEC,EAAsB,SAACC,GAAD,OAAgBrB,EAAoBqB,IAGhE,OACE,qCAEE,cAACpC,EAAD,IACE,cAAC,WAAD,CAAUqC,SAAS,aAAnB,SACG,eAAC,IAAD,WACC,cAAC,IAAD,CAAOxC,OAAK,EAACyC,KAAK,IAAIC,OAAQ,SAACC,GAAD,OAC3B,cAACnC,EAAD,2BACImC,GADJ,IAEDC,WAAY/B,EACZuB,oBAAqBA,EACrBF,eAAgBA,EAChBnB,SAAUA,EACVwB,WAAYtB,EACV4B,cAAeP,QAKrB,cAAC,IAAD,CAAOtC,OAAK,EAACyC,KAAK,UAAUK,UAAWxC,IACvC,cAAC,IAAD,CAAOmC,KAAK,mBAAmBK,UAAWrC,IAC1C,cAAC,IAAD,UACE,cAACC,EAAD,eCjFZqC,IAASL,OACP,cAAC,IAAMM,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJ1B,SAAS2B,eAAe,W","file":"static/js/main.603db536.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__188Kc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navList\":\"Navigation_navList__1iN3d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppHeader_header__3QjEr\"};","import { NavLink } from 'react-router-dom';\r\nimport s from './Navigation.module.css'\r\n\r\nexport function Navigation() {\r\n  return (\r\n    <nav className={s.navList}>\r\n      \r\n          <NavLink\r\n            exact\r\n            to=\"/\"\r\n            className=\"navLink\"\r\n            activeClassName=\"activeNavLink\"\r\n          >\r\n            Home\r\n          </NavLink>\r\n        \r\n          <NavLink\r\n            to=\"/movies\"\r\n            className=\"navLink\"\r\n            activeClassName=\"activeNavLink\"\r\n          >\r\n            Movies\r\n          </NavLink>\r\n     \r\n    </nav>\r\n  );\r\n}\r\n\r\n\r\n// import { NavLink } from 'react-router-dom';\r\n// import styles from './Navigation.module.css';\r\n\r\n// export default function Navigation() {\r\n//   return (\r\n//     <nav>\r\n//       <NavLink\r\n//         exact\r\n//         to=\"/\"\r\n//         className={styles.link}\r\n//         activeClassName={styles.activeLink}\r\n//       >\r\n//         Главная\r\n//       </NavLink>\r\n\r\n//       <NavLink\r\n//         to=\"/authors\"\r\n//         className={styles.link}\r\n//         activeClassName={styles.activeLink}\r\n//       >\r\n//         Авторы\r\n//       </NavLink>\r\n\r\n//       <NavLink\r\n//         to=\"/books\"\r\n//         className={styles.link}\r\n//         activeClassName={styles.activeLink}\r\n//       >\r\n//         Книги\r\n//       </NavLink>\r\n\r\n//       <NavLink\r\n//         to=\"/table\"\r\n//         className={styles.link}\r\n//         activeClassName={styles.activeLink}\r\n//       >\r\n//         Таблица\r\n//       </NavLink>\r\n//     </nav>\r\n//   );\r\n// }","import { Navigation } from '../Navigation/Navigation';\r\n// import Container from '../Container/Container';\r\nimport styles from './AppHeader.module.css';\r\n\r\nexport default function AppHeader () {\r\n  return (\r\n    \r\n    <header className={styles.header}>\r\n      <Navigation />\r\n      </header>\r\n    \r\n  );\r\n}","import './App.css';\r\nimport { lazy, Suspense } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\n// import { getTrending } from \"../../services/movies-api\";\r\nimport { useState, useEffect } from 'react';\r\n// import { useHistory, useLocation } from 'react-router';\r\nimport Container from '../Container/Container';\r\nimport AppHeader from '../AppHeader/AppHeader';\r\n\r\nconst MoviesPage = lazy(()=> import('../../pages/MoviesPage/MoviesPage') /*webpackChunkName: MoviesPage*/);\r\nconst HomePage = lazy(() => import('../../pages/HomePage/HomePage') /*webpackChunkName: HomePage*/);\r\nconst MovieDetailsPage = lazy(() => import('../../pages/MovieDetailsPage/MovieDetailsPage') /*webpackChunkName: MovieDetailsPage*/);\r\nconst NotFoundPage = lazy(() => import('../../pages/NotFoundPage/NotFoundPage') /*webpackChunkName: NotFoundPage*/);\r\n\r\nfunction App() {\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [fetching, setFetching] = useState(true);\r\n  const [totalMoviesPages, setTotalMoviesPages] = useState(0);\r\n  // const [moviesListHeight, setMoviesListHeight] = useState(0);\r\n  // const moviesListRef = document.getElementById('moviesList')\r\n  // useEffect(() => {\r\n  //   if (fetching) {\r\n  //     // getTrending(pageNumber).then((response) => {\r\n  //     // setMovies([...movies, ...response.results]);\r\n  //     // incrementPageNumber(); // setCurrentPage(prevPage => prevPage + 1);\r\n        \r\n  //     console.log('scrolling');\r\n      \r\n  //     setFetching(false)\r\n  //   }\r\n      \r\n\r\n  //   // eslint-disable-next-line\r\n  // }, [fetching]);\r\n \r\n  useEffect(() => {\r\n    // document.documentElement.scrollTop = 0;\r\n    console.log('App didMount');    \r\n    document.addEventListener('scroll', scrollHandler);\r\n    return function () {\r\n      document.documentElement.removeEventListener('scroll', scrollHandler)}\r\n    \r\n    // eslint-disable-next-line\r\n }, [])\r\n  \r\n  const scrollHandler = (e) => {\r\n    console.log('scrolling');    \r\n    console.log(\r\n      'documentElement.scrollHeight :>>', document.documentElement.scrollHeight,\r\n      'window.innerHeight :>> ', window.innerHeight,\r\n      'document.documentElement.scrollTop :>> ', document.documentElement.scrollTop);\r\n    \r\n    let differenceHeight = e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight);\r\n    console.log('differenceHeight:', differenceHeight);\r\n    \r\n    if (e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight) < 100 && currentPage < totalMoviesPages) {\r\n      setFetching(true);\r\n    }\r\n  }\r\n\r\n  const toggleFetching = (value) => setFetching(value);\r\n  const incrementPageNumber = () => setCurrentPage(prevPage => prevPage + 1);\r\n  const getTotalMoviesPages = (totalPages) => setTotalMoviesPages(totalPages);\r\n  // const setListOffsetHeight = () => setMoviesListHeight(document.querySelector('.moviesList').offsetHeight);\r\n\r\n  return (\r\n    <>\r\n    {/* <Container> */}\r\n      <AppHeader />      \r\n        <Suspense fallback=\"Loading...\">\r\n           <Switch>\r\n            <Route exact path=\"/\" render={(routerProps) => (\r\n               <HomePage\r\n               {...routerProps}\r\n              pageNumber={currentPage}\r\n              incrementPageNumber={incrementPageNumber}\r\n              toggleFetching={toggleFetching}\r\n              fetching={fetching}\r\n              totalPages={totalMoviesPages}\r\n                setTotalPages={getTotalMoviesPages}\r\n                // setListOffsetHeight={setListOffsetHeight}\r\n            />\r\n            )}\r\n            />\r\n          <Route exact path=\"/movies\" component={MoviesPage} />          \r\n          <Route path=\"/movies/:movieID\" component={MovieDetailsPage}/>\r\n          <Route>\r\n            <NotFoundPage />\r\n          </Route>\r\n        </Switch>\r\n       </Suspense>\r\n\r\n      {/* <footer>\r\n        <span className=\"footer__text\">&copy; ILLIA Kahanov GOIT FE-35 Student 2021</span>\r\n      </footer> */}\r\n      {/* </Container> */}\r\n      </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App/App.jsx\";\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}