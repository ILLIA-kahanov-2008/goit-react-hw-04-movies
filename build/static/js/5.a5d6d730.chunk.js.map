{"version":3,"sources":["pages/NotFoundPage.jsx","images/default_backdrop.jpg","components/GalleryItem/GalleryItem.jsx","components/GalleryItem/GalleryItem.module.css","components/SearchForm/SearchForm.module.css","components/SearchForm/SearchForm.jsx","pages/MoviesPage.jsx","components/PageTitle/PageTitle.jsx","services/movies-api.js","components/PageTitle/PageTitle.module.css","components/Buttons/GoBackBtn.jsx","components/Buttons/GoBackBtn.module.css"],"names":["NotFoundPage","message","text","GalleryItem","movieID","backdrop","title","rating","releaseDate","cbOnClick","className","styles","item","onClick","to","Link","card","cardImage","src","alt","cardContent","movieName","movieRating","movieReleaseDate","module","exports","SearchForm","onSubmit","useState","query","setQuery","SearchBar","e","preventDefault","trim","console","log","alert","type","SearchFormBtn","SearchFormBtnLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","name","onChange","target","Status","MoviesPage","history","queryName","setQueryName","pageNumber","setPageNumber","movies","setMovies","totalPages","setTotalPages","status","setStatus","errorMessage","setErrorMessage","titleText","setTitleText","pageScrollHeight","setPageScrollHeight","loaderTitle","setLoaderTitle","push","location","useEffect","search","URLSearchParams","get","Number","state","searchMovies","then","response","total_results","Error","results","total_pages","catch","error","window","scrollTo","top","behavior","onFormSubmit","openMovieDetailsPage","ID","from","pathname","document","documentElement","scrollTop","PageTitle","length","dataLength","next","hasMore","loader","endMessage","style","textAlign","id","map","backdrop_path","original_title","vote_average","release_date","default_backdrop","LoaderComponent","children","titleContainer","API_KEY","getTrending","a","params","url","axios","result","data","status_message","searchQuery","getMovieDetails","endPoint","movieDetails","getMovieCast","movieDetailsCast","cast","getMovieReviews","movieDetailsReviews","defaults","baseURL","GoBackButton","useHistory","button"],"mappings":"4IAAA,0EAGe,SAASA,EAAT,GAAoC,IAAZC,EAAW,EAAXA,QACrC,OACE,cAAC,IAAD,CAAWC,KAAMD,EAAjB,SACE,cAAC,IAAD,Q,iCCNS,QAA0B,8C,iCCAzC,yCA0CeE,IA3Bf,YAOI,IANFC,EAMC,EANDA,QACAC,EAKC,EALDA,SACAC,EAIC,EAJDA,MACAC,EAGC,EAHDA,OACAC,EAEC,EAFDA,YACAC,EACC,EADDA,UAGA,OACE,oBAAIC,UAAWC,IAAOC,KAAMC,QAFV,kBAAMJ,EAAUL,IAElC,SACE,cAAC,IAAD,CAAMU,GAAE,kBAAaV,GAAWM,UAAWC,IAAOI,KAAlD,SACE,0BAASL,UAAWC,IAAOK,KAA3B,UACE,qBAAKN,UAAWC,IAAOM,UAAWC,IAAKb,EAAUc,IAAKb,IACtD,sBAAKI,UAAWC,IAAOS,YAAvB,UACE,oBAAIV,UAAWC,IAAOU,UAAtB,SAAkCf,IAClC,oBAAGI,UAAWC,IAAOW,YAArB,sBAA4Cf,EAA5C,OACA,oBAAGG,UAAWC,IAAOY,iBAArB,gCACsBf,iB,oBChClCgB,EAAOC,QAAU,CAAC,KAAO,0BAA0B,KAAO,0BAA0B,KAAO,0BAA0B,YAAc,iCAAiC,UAAY,+BAA+B,UAAY,+BAA+B,YAAc,mC,oBCAxQD,EAAOC,QAAU,CAAC,UAAY,8BAA8B,WAAa,+BAA+B,cAAgB,kCAAkC,mBAAqB,uCAAuC,gBAAkB,sC,iKCmDzNC,MA9Cf,YAAmC,IAAbC,EAAY,EAAZA,SACpB,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAmBA,OACC,qBAAKpB,UAAWC,IAAOoB,UAAvB,SACG,uBAAMrB,UAAWC,IAAOe,WAAYC,SAdnB,SAAAK,GAEnBA,EAAEC,iBACmB,KAAjBJ,EAAMK,QAIVP,EAASE,EANU,GAOnBM,QAAQC,IAAI,0BAA2BP,GACvCC,EAAS,KALPO,MAAM,8BAUN,UACE,yBAAQC,KAAK,SAAS5B,UAAWC,IAAO4B,cAAxC,UACE,cAAC,IAAD,IACA,sBAAM7B,UAAWC,IAAO6B,mBAAxB,uBAEF,uBACE9B,UAAWC,IAAO8B,gBAClBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,mBACZC,MAAOhB,EACPiB,KAAK,QACLC,SAhCa,SAAAf,GACnB,MAAwBA,EAAEgB,OAAlBF,EAAR,EAAQA,KAAMD,EAAd,EAAcA,MACL,UAATC,GAAoBhB,EAASe,EAAMX,iB,SCEjCe,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAkLGC,UA/Kf,YAAkC,IAAZC,EAAW,EAAXA,QACpB,EAAkCvB,mBAAS,IAA3C,mBAAOwB,EAAP,KAAkBC,EAAlB,KACA,EAAoCzB,mBAAS,GAA7C,mBAAO0B,EAAP,KAAmBC,EAAnB,KACA,EAA4B3B,mBAAS,IAArC,mBAAO4B,EAAP,KAAeC,EAAf,KACA,EAAoC7B,mBAAS,GAA7C,mBAAO8B,EAAP,KAAmBC,EAAnB,KACA,EAA4B/B,mBAASqB,GAArC,mBAAOW,EAAP,KAAeC,EAAf,KACA,EAAwCjC,mBAAS,MAAjD,mBAAOkC,EAAP,KAAqBC,EAArB,KACA,EAAkCnC,mBAAS,IAA3C,mBAAOoC,EAAP,KAAkBC,EAAlB,KACA,EAAgDrC,mBAAS,GAAzD,mBAAOsC,EAAP,KAAyBC,EAAzB,KACA,EAAsCvC,mBAAS,IAA/C,mBAAOwC,EAAP,KAAoBC,EAApB,KAEQC,GAAmBnB,EAAnBmB,KAAMC,GAAapB,EAAboB,SAEdC,qBAAU,WACgB,KAApBD,GAASE,QACXpB,EAAa,IAAIqB,gBAAgBH,GAASE,QAAQE,IAAI,UACtDpB,EACEqB,OAAO,IAAIF,gBAAgBH,GAASE,QAAQE,IAAI,SAAW,IAG7DV,EAAa,wCAEd,IAEHO,qBAAU,WACHpB,IAELS,EAAUZ,GAEa,OAAnBsB,GAASM,OACXR,EAAe,6BAAD,OAA8BjB,EAA9B,MACd0B,YAAaxB,EAAYF,GACtB2B,MAAK,SAAAC,GACJ,GAA+B,IAA3BA,EAASC,cACX,MAAM,IAAIC,MAAJ,6CAA+C9B,EAA/C,MAERK,EAAUuB,EAASG,SACnBxB,EAAcqB,EAASI,aACvBvB,EAAUZ,GACVgB,EAAa,gBAAD,OACMe,EAASC,cADf,uBAC2C7B,EAD3C,OAGZG,EAAcD,EAAa,GAC3BiB,GAASE,OAAT,gBAA2BrB,EAA3B,iBAA6CE,GAC7CgB,GAAK,WAAaC,GAASE,WAE5BY,OAAM,SAAAC,GACLzB,EAAUZ,GACVc,EAAgBuB,EAAMrF,cAG1BwD,EAAUc,GAASM,MAAMrB,QACzBW,EAAoBI,GAASM,MAAMX,kBACnCP,EAAcY,GAASM,MAAMnB,YAC7BO,EAAaM,GAASM,MAAMb,WAC5BH,EAAUZ,OAEX,CAACG,IAEJoB,qBAAU,WACRe,OAAOC,SAAS,CACdC,IAAKvB,EACLwB,SAAU,aAEX,CAACxB,IAEJ,IAiBMyB,GAAe,SAACvC,EAAWE,GAC/BiB,GAASE,OAAT,gBAA2BrB,EAA3B,iBAA6CE,GAC7CiB,GAASM,MAAQ,KACjBxB,EAAaD,GACbG,EAAcD,GACdK,EAAc,GACdQ,EAAoB,GACpBV,EAAU,KAUNmC,GAAuB,SAAAC,GAC3BvB,GAR+B,CAC/BO,MAAO,CACLiB,KAAMvB,IAERwB,SAIiB,WAAaF,IAC9BtB,GAASM,MAAQ,CACfrB,SACAU,iBAAkB8B,SAASC,gBAAgBC,UAC3CxC,aACAM,cAIJ,OAAIJ,IAAWX,EAEX,mCACE,cAACkD,EAAA,EAAD,CAAWjG,KAAM8D,EAAjB,SACE,cAAC,EAAD,CAAYrC,SAAUgE,SAM1B/B,IAAWX,GAAmBW,IAAWX,EAEzC,qCACE,cAACkD,EAAA,EAAD,CAAWjG,KAAM8D,IACjB,cAAC,EAAD,CAAYrC,SAAUgE,KACrBnC,EAAO4C,OAAS,GACf,cAAC,IAAD,CACEC,WAAY7C,EAAO4C,OACnBE,KA9DU,WAClBzC,EAAUZ,GACVoB,EAAe,WAAD,OAAYf,EAAZ,UACdwB,YAAaxB,EAAYF,GACtB2B,MAAK,YAAkB,IAAfI,EAAc,EAAdA,QACP1B,EAAU,GAAD,mBAAKD,GAAL,YAAgB2B,KACzBtB,EAAUZ,GACVsB,GAASE,OAAT,gBAA2BrB,EAA3B,iBAA6CE,GAC7CgB,GAAK,WAAaC,GAASE,QAC3BlB,EAAcD,EAAa,MAE5B+B,OAAM,SAAAC,GACLzB,EAAUZ,GACVc,EAAgBuB,OAkDZiB,QAAS7C,GAAcJ,EACvBkD,OAAQ,4CACRC,WACE,mBAAGC,MAAO,CAAEC,UAAW,UAAvB,SACE,4DAPN,SAWE,oBAAIjG,UAAU,aAAakG,GAAG,aAA9B,SACGpD,EAAOqD,KACN,YAMO,IALLD,EAKI,EALJA,GACAE,EAII,EAJJA,cACAC,EAGI,EAHJA,eACAC,EAEI,EAFJA,aACAC,EACI,EADJA,aAEI5G,EAAWyG,EAAa,0CACWA,GACnCI,IACJ,OACE,cAAC/G,EAAA,EAAD,CAEEE,SAAUA,EACVC,MAAOyG,EACPxG,OAAQyG,EACRxG,YAAayG,EACb7G,QAASwG,EACTnG,UAAWmF,IANNgB,UAclBhD,IAAWX,GAAkB,cAACkE,EAAA,EAAD,CAAiB7G,MAAO8D,OAKxDR,IAAWX,EACN,cAACjD,EAAA,QAAD,CAAcC,QAAS6D,SADhC,I,gCC9LF,8DAEe,SAASqC,EAAT,GAAwC,IAAnBjG,EAAkB,EAAlBA,KAAMkH,EAAY,EAAZA,SACxC,OACE,sBAAK1G,UAAWC,IAAO0G,eAAvB,UACE,oBAAI3G,UAAWC,IAAOL,MAAtB,SAA8BJ,IAC7BkH,O,2PCJDE,EAAU,mCAIT,SAAeC,EAAtB,kC,4CAAO,WAA2BjE,GAA3B,qBAAAkE,EAAA,kFAEDC,EAFC,mBAEoBH,EAFpB,iBAEoChE,GACrCoE,EAHC,sBAGgBD,EAHhB,kBAKkBE,IAAMhD,IAAI+C,GAL5B,UAKGE,EALH,OAMGpE,EAASoE,EAAOC,KACA,MAAlBD,EAAOhE,OAPR,uBAO8B,IAAIsB,MAPlC,WAQmB,MAAlB0C,EAAOhE,OARR,0CAQ+BJ,GAR/B,mFAUI,KAAMsE,gBAVV,2D,sBAcA,SAAehD,EAAtB,oC,4CAAO,WAA4BxB,EAAYyE,GAAxC,qBAAAP,EAAA,2EAEDC,EAFC,mBAEoBH,EAFpB,iBAEoChE,EAFpC,kBAEwDyE,GACzDL,EAHC,eAGgBD,EAHhB,kBAKkBE,IAAMhD,IAAI+C,GAL5B,UAKGE,EALH,OAMGpE,EAASoE,EAAOC,KACA,MAAlBD,EAAOhE,OAPR,uBAO8B,IAAIsB,MAPlC,WAQmB,MAAlB0C,EAAOhE,OARR,0CAQ+BJ,GAR/B,mFAUI,KAAMsE,gBAVV,2D,sBAcA,SAAeE,EAAtB,kC,4CAAO,WAA+B5H,GAA/B,uBAAAoH,EAAA,6DACDS,EADC,gBACmB7H,GACpBqH,EAFC,mBAEoBH,GACrBI,EAAMO,EAAWR,EAHhB,kBAKkBE,IAAMhD,IAAI+C,GAL5B,UAKGE,EALH,OAMGM,EAAeN,EAAOC,KACN,MAAlBD,EAAOhE,OAPR,uBAO8B,IAAIsB,MAPlC,WAQmB,MAAlB0C,EAAOhE,OARR,0CAQ+BsE,GAR/B,mFAUI,KAAMJ,gBAVV,2D,sBAcA,SAAeK,EAAtB,kC,4CAAO,WAA4B/H,GAA5B,uBAAAoH,EAAA,6DACDS,EADC,gBACmB7H,EADnB,YAEDqH,EAFC,mBAEoBH,GACrBI,EAAMO,EAAWR,EAHhB,kBAKkBE,IAAMhD,IAAI+C,GAL5B,UAKGE,EALH,OAMGQ,EAAmBR,EAAOC,KAAKQ,KACf,MAAlBT,EAAOhE,OAPR,uBAO8B,IAAIsB,MAPlC,WAQmB,MAAlB0C,EAAOhE,OARR,0CAQ+BwE,GAR/B,mFAUI,KAAMN,gBAVV,2D,sBAcA,SAAeQ,EAAtB,kC,4CAAO,WAA+BlI,GAA/B,uBAAAoH,EAAA,6DACDS,EADC,gBACmB7H,EADnB,YAEDqH,EAFC,mBAEoBH,GACrBI,EAAMO,EAAWR,EAHhB,kBAKkBE,IAAMhD,IAAI+C,GAL5B,UAKGE,EALH,OAMGW,EAAsBX,EAAOC,KAAK1C,QAClB,MAAlByC,EAAOhE,OAPR,uBAO8B,IAAIsB,MAPlC,WAQmB,MAAlB0C,EAAOhE,OARR,0CAQ+B2E,GAR/B,mFAUI,KAAMT,gBAVV,2D,sBA1DPH,IAAMa,SAASC,QAAU,iC,mBCHzBjH,EAAOC,QAAU,CAAC,MAAQ,yBAAyB,eAAiB,oC,gCCDpE,mCAiBeiH,IAZf,WACE,MAA2BC,cAAnBrE,EAAR,EAAQA,KAAMC,EAAd,EAAcA,SAId,OACE,wBAAQ7D,UAAWC,IAAOiI,OAAQtG,KAAK,SAASzB,QAH3B,wBAAMyD,GAAK,UAAAC,EAASM,aAAT,eAAgBiB,OAAQ,MAGxD,uB,mBCVJtE,EAAOC,QAAU,CAAC,OAAS,0BAA0B,aAAa","file":"static/js/5.a5d6d730.chunk.js","sourcesContent":["import PageTitle from '../components/PageTitle/PageTitle';\r\nimport GoBackButton from '../components/Buttons/GoBackBtn';\r\n\r\nexport default function NotFoundPage({ message }) {\r\n  return (\r\n    <PageTitle text={message}>\r\n      <GoBackButton />\r\n    </PageTitle>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/default_backdrop.5312a185.jpg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './GalleryItem.module.css';\r\nGalleryItem.propTypes = {\r\n  movieID: PropTypes.number.isRequired,\r\n  backdrop: PropTypes.string.isRequired,\r\n  title:PropTypes.string.isRequired,\r\n  rating:PropTypes.number,\r\n  releaseDate: PropTypes.string.isRequired,\r\n  cbOnClick: PropTypes.func.isRequired,\r\n};\r\n\r\nfunction GalleryItem({\r\n  movieID,\r\n  backdrop,\r\n  title,\r\n  rating,\r\n  releaseDate,\r\n  cbOnClick,\r\n}) {\r\n  const handleClick = () => cbOnClick(movieID);\r\n  return (\r\n    <li className={styles.item} onClick={handleClick}>\r\n      <Link to={`/movies/${movieID}`} className={styles.Link}>\r\n        <article className={styles.card}>\r\n          <img className={styles.cardImage} src={backdrop} alt={title} />\r\n          <div className={styles.cardContent}>\r\n            <h2 className={styles.movieName}>{title}</h2>\r\n            <p className={styles.movieRating}> Rating: {rating} </p>\r\n            <p className={styles.movieReleaseDate}>\r\n              Movie released at: {releaseDate}\r\n            </p>\r\n          </div>\r\n        </article>\r\n      </Link>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default GalleryItem;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"GalleryItem_item__2yA08\",\"Link\":\"GalleryItem_Link__1wj65\",\"card\":\"GalleryItem_card__3Uqpj\",\"cardContent\":\"GalleryItem_cardContent__RqBAy\",\"cardImage\":\"GalleryItem_cardImage__1yBX9\",\"movieName\":\"GalleryItem_movieName__1TFU0\",\"movieRating\":\"GalleryItem_movieRating__19GP1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"SearchForm_SearchBar__2j8Dh\",\"SearchForm\":\"SearchForm_SearchForm__2490l\",\"SearchFormBtn\":\"SearchForm_SearchFormBtn__13NJu\",\"SearchFormBtnLabel\":\"SearchForm_SearchFormBtnLabel__W1Wgz\",\"SearchFormInput\":\"SearchForm_SearchFormInput__2M71k\"};","import { useState } from 'react';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './SearchForm.module.css';\r\n\r\nfunction SearchForm({ onSubmit }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    name === 'query' && setQuery(value.trim());\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    const pageNumber = 1;\r\n    e.preventDefault();\r\n    if (query.trim() === '') {\r\n      alert('Enter query before submit');\r\n      return;\r\n    }\r\n    onSubmit(query, pageNumber);\r\n    console.log('SEARCH_FORM submit :>> ', query);\r\n    setQuery('');\r\n  };\r\n\r\n  return (\r\n   <div className={styles.SearchBar}>\r\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={styles.SearchFormBtn}>\r\n          <SearchIcon/>\r\n          <span className={styles.SearchFormBtnLabel}>Search</span>\r\n        </button>\r\n        <input\r\n          className={styles.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search movies...\"\r\n          value={query}\r\n          name=\"query\"\r\n          onChange={handleChange}\r\n        />\r\n      </form>\r\n      </div>\r\n  );\r\n}\r\n\r\nSearchForm.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchForm;\r\n","import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\n\r\nimport { searchMovies } from '../services/movies-api';\r\n\r\nimport default_backdrop from '../images/default_backdrop.jpg';\r\nimport NotFoundPage from './NotFoundPage';\r\nimport LoaderComponent from '../components/Loader/LoaderComponent';\r\nimport PageTitle from '../components/PageTitle/PageTitle';\r\nimport SearchForm from '../components/SearchForm/SearchForm';\r\nimport GalleryItem from '../components/GalleryItem/GalleryItem';\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nfunction MoviesPage({ history }) {\r\n  const [queryName, setQueryName] = useState('');\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [movies, setMovies] = useState([]);\r\n  const [totalPages, setTotalPages] = useState(0);\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n  const [titleText, setTitleText] = useState('');\r\n  const [pageScrollHeight, setPageScrollHeight] = useState(0);\r\n  const [loaderTitle, setLoaderTitle] = useState('');\r\n\r\n  const { push, location } = history;\r\n\r\n  useEffect(() => {\r\n    if (location.search !== '') {\r\n      setQueryName(new URLSearchParams(location.search).get('query'));\r\n      setPageNumber(\r\n        Number(new URLSearchParams(location.search).get('page')) + 1,\r\n      );\r\n    } else {\r\n      setTitleText('Enter your query to search movies!');\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!queryName) return;\r\n\r\n    setStatus(Status.PENDING);\r\n\r\n    if (location.state === null) {\r\n      setLoaderTitle(`Loading movies with name \"${queryName}\"`);\r\n      searchMovies(pageNumber, queryName)\r\n        .then(response => {\r\n          if (response.total_results === 0) {\r\n            throw new Error(`we couldn't find any results for \"${queryName}\"`);\r\n          }\r\n          setMovies(response.results);\r\n          setTotalPages(response.total_pages);\r\n          setStatus(Status.RESOLVED);\r\n          setTitleText(\r\n            `We had found ${response.total_results} movies by \"${queryName}\" `,\r\n          );\r\n          setPageNumber(pageNumber + 1);\r\n          location.search = `query=${queryName}&page=${pageNumber}`;\r\n          push('/movies?' + location.search);\r\n        })\r\n        .catch(error => {\r\n          setStatus(Status.REJECTED);\r\n          setErrorMessage(error.message);\r\n        });\r\n    } else {\r\n      setMovies(location.state.movies);\r\n      setPageScrollHeight(location.state.pageScrollHeight);\r\n      setTotalPages(location.state.totalPages);\r\n      setTitleText(location.state.titleText);\r\n      setStatus(Status.RESOLVED);\r\n    }\r\n  }, [queryName]);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: pageScrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }, [pageScrollHeight]);\r\n\r\n  const fetchMovies = () => {\r\n    setStatus(Status.PENDING);\r\n    setLoaderTitle(`Loading ${pageNumber} page`);\r\n    searchMovies(pageNumber, queryName)\r\n      .then(({ results }) => {\r\n        setMovies([...movies, ...results]);\r\n        setStatus(Status.RESOLVED);\r\n        location.search = `query=${queryName}&page=${pageNumber}`;\r\n        push('/movies?' + location.search);\r\n        setPageNumber(pageNumber + 1);\r\n      })\r\n      .catch(error => {\r\n        setStatus(Status.REJECTED);\r\n        setErrorMessage(error);\r\n      });\r\n  };\r\n\r\n  const onFormSubmit = (queryName, pageNumber) => {\r\n    location.search = `query=${queryName}&page=${pageNumber}`;\r\n    location.state = null;\r\n    setQueryName(queryName);\r\n    setPageNumber(pageNumber);\r\n    setTotalPages(0);\r\n    setPageScrollHeight(0);\r\n    setMovies([]);\r\n  };\r\n\r\n  const getLocation = pathname => ({\r\n    state: {\r\n      from: location,\r\n    },\r\n    pathname,\r\n  });\r\n\r\n  const openMovieDetailsPage = ID => {\r\n    push(getLocation('/movies/' + ID));\r\n    location.state = {\r\n      movies,\r\n      pageScrollHeight: document.documentElement.scrollTop,\r\n      totalPages,\r\n      titleText,\r\n    };\r\n  };\r\n\r\n  if (status === Status.IDLE) {\r\n    return (\r\n      <>\r\n        <PageTitle text={titleText}>\r\n          <SearchForm onSubmit={onFormSubmit} />\r\n        </PageTitle>\r\n      </>\r\n    );\r\n  }\r\n\r\n  if (status === Status.RESOLVED || status === Status.PENDING) {\r\n    return (\r\n      <>\r\n        <PageTitle text={titleText}></PageTitle>\r\n        <SearchForm onSubmit={onFormSubmit} />\r\n        {movies.length > 0 && (\r\n          <InfiniteScroll\r\n            dataLength={movies.length} //This is important field to render the next data\r\n            next={fetchMovies}\r\n            hasMore={totalPages >= pageNumber}\r\n            loader={<h4>Loading...</h4>}\r\n            endMessage={\r\n              <p style={{ textAlign: 'center' }}>\r\n                <b>Yay! You have seen it all</b>\r\n              </p>\r\n            }\r\n          >\r\n            <ul className=\"moviesList\" id=\"moviesList\">\r\n              {movies.map(\r\n                ({\r\n                  id,\r\n                  backdrop_path,\r\n                  original_title,\r\n                  vote_average,\r\n                  release_date,\r\n                }) => {\r\n                  let backdrop = backdrop_path\r\n                    ? `https://image.tmdb.org/t/p/w780/${backdrop_path}`\r\n                    : default_backdrop;\r\n                  return (\r\n                    <GalleryItem\r\n                      key={id}\r\n                      backdrop={backdrop}\r\n                      title={original_title}\r\n                      rating={vote_average}\r\n                      releaseDate={release_date}\r\n                      movieID={id}\r\n                      cbOnClick={openMovieDetailsPage}\r\n                    />\r\n                  );\r\n                },\r\n              )}\r\n            </ul>\r\n          </InfiniteScroll>\r\n        )}\r\n        {status === Status.PENDING && <LoaderComponent title={loaderTitle} />}\r\n      </>\r\n    );\r\n  }\r\n\r\n  if (status === Status.REJECTED) {\r\n    return <NotFoundPage message={errorMessage} />;\r\n  }\r\n}\r\n\r\nexport default MoviesPage;\r\n","import styles from './PageTitle.module.css';\r\n\r\nexport default function PageTitle({ text, children }) {\r\n  return (\r\n    <div className={styles.titleContainer}>\r\n      <h1 className={styles.title}>{text}</h1>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\n\r\nconst API_KEY = '12ae81efe6e825dc1785f3d595e1c6cf';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\r\n\r\nexport async function getTrending(pageNumber) {\r\n  let endPoint = `trending/movie/week`;\r\n  let params = `?api_key=${API_KEY}&page=${pageNumber}`;\r\n  let url = endPoint + params;\r\n  try {\r\n    const result = await axios.get(url);\r\n    const movies = result.data;\r\n    if (result.status === 400) throw new Error();\r\n    if (result.status === 200) return movies;\r\n  } catch (error) {\r\n    return error.status_message;\r\n  }\r\n}\r\n\r\nexport async function searchMovies(pageNumber, searchQuery) {\r\n  let endPoint = `search/movie`;\r\n  let params = `?api_key=${API_KEY}&page=${pageNumber}&query=${searchQuery}`;\r\n  let url = endPoint + params;\r\n  try {\r\n    const result = await axios.get(url);\r\n    const movies = result.data;\r\n    if (result.status === 400) throw new Error();\r\n    if (result.status === 200) return movies;\r\n  } catch (error) {\r\n    return error.status_message;\r\n  }\r\n}\r\n\r\nexport async function getMovieDetails(movieID) {\r\n  let endPoint = `movie/${movieID}`;\r\n  let params = `?api_key=${API_KEY}`;\r\n  let url = endPoint + params;\r\n  try {\r\n    const result = await axios.get(url);\r\n    const movieDetails = result.data;\r\n    if (result.status === 400) throw new Error();\r\n    if (result.status === 200) return movieDetails;\r\n  } catch (error) {\r\n    return error.status_message;\r\n  }\r\n}\r\n\r\nexport async function getMovieCast(movieID) {\r\n  let endPoint = `movie/${movieID}/credits`;\r\n  let params = `?api_key=${API_KEY}`;\r\n  let url = endPoint + params;\r\n  try {\r\n    const result = await axios.get(url);\r\n    const movieDetailsCast = result.data.cast;\r\n    if (result.status === 400) throw new Error();\r\n    if (result.status === 200) return movieDetailsCast;\r\n  } catch (error) {\r\n    return error.status_message;\r\n  }\r\n}\r\n\r\nexport async function getMovieReviews(movieID) {\r\n  let endPoint = `movie/${movieID}/reviews`;\r\n  let params = `?api_key=${API_KEY}`;\r\n  let url = endPoint + params;\r\n  try {\r\n    const result = await axios.get(url);\r\n    const movieDetailsReviews = result.data.results;\r\n    if (result.status === 400) throw new Error();\r\n    if (result.status === 200) return movieDetailsReviews;\r\n  } catch (error) {\r\n    return error.status_message;\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"PageTitle_title__1ACpZ\",\"titleContainer\":\"PageTitle_titleContainer__BObiw\"};","// import React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styles from './GoBackBtn.module.css';\r\n\r\nfunction GoBackButton() {\r\n  const { push, location } = useHistory();\r\n\r\n  const handleBtnClick = () => push(location.state?.from || '/');\r\n\r\n  return (\r\n    <button className={styles.button} type=\"button\" onClick={handleBtnClick}>\r\n      GO BACK\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default GoBackButton;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"GoBackBtn_button__1sl9N\",\"hvr-button\":\"GoBackBtn_hvr-button__3EWD6\"};"],"sourceRoot":""}