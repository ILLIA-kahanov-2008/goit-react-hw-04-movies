{"version":3,"sources":["services/movies-api.js","components/PageTitle/PageTitle.jsx","components/PageTitle/PageTitle.module.css","components/GalleryItem/GalleryItem.jsx","components/GalleryItem/GalleryItem.module.css","images/default_backdrop.jpg","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","pages/HomePage/HomePage.jsx"],"names":["API_KEY","getTrending","pageNumber","a","params","url","axios","get","result","movies","data","status","Error","message","searchMovies","searchQuery","results","getMovieDetails","movieID","endPoint","movieDetails","getMovieCast","movieDetailsCast","cast","getMovieReviews","movieDetailsReviews","defaults","baseURL","PageTitle","text","className","styles","title","module","exports","GalleryItem","backdrop","rating","releaseDate","cbOnClick","item","onClick","to","Link","card","cardImage","src","alt","cardContent","movieName","movieRating","movieReleaseDate","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","HomePage","history","useState","setMovies","currentPage","setCurrentPage","totalPages","setTotalPages","push","location","useEffect","console","log","then","response","catch","error","document","documentElement","scrollTop","total_results","addEventListener","scrollHandler","removeEventListener","e","differenceHeight","target","scrollHeight","window","innerHeight","prevPage","openMovieDetailsPage","state","pathname","id","map","backdrop_path","original_title","vote_average","release_date","default_backdrop"],"mappings":"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","file":"static/js/6.a02d9eb3.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst API_KEY = '12ae81efe6e825dc1785f3d595e1c6cf';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\r\n\r\n// async function fetchWithErrorHandling(url = '', config = {}) {\r\n//   const response = await fetch(url, config);\r\n//   return response.ok\r\n//     ? await response.json()\r\n//     : Promise.reject(new Error('Not found'));\r\n// }\r\n\r\nexport async function getTrending(pageNumber) {\r\n  let endPoint = `trending/movie/week`;\r\n  let params = `?api_key=${API_KEY}&page=${pageNumber}`;\r\n  let url = endPoint + params;\r\n  try {\r\n    const result = await axios.get(url);\r\n    const movies = result.data\r\n     if (result.status === 400) throw new Error();\r\n      // console.log(movies);\r\n    if (result.status === 200) return movies;\r\n    // console.log(movies);\r\n  } catch (error) {\r\n    // console.log('Error', error);\r\n      return error.message;\r\n  }  \r\n}\r\n\r\nexport async function searchMovies(pageNumber, searchQuery) {\r\n  let endPoint = `search/movie`;\r\n  let params = `?api_key=${API_KEY}&page=${pageNumber}&query=${searchQuery}`;\r\n  let url = endPoint + params;\r\n  try {\r\n    const result = await axios.get(url);\r\n    const movies = result.data.results\r\n     if (result.status === 400) throw new Error();\r\n      // console.log(result);\r\n    if (result.status === 200) return movies;\r\n    // console.log(movies);\r\n  } catch (error) {\r\n    // console.log('Error', error);\r\n      return error.message;\r\n  }  \r\n  \r\n  \r\n}\r\n\r\nexport async function getMovieDetails(movieID) {\r\n  let endPoint = `movie/${movieID}`;\r\n  let params = `?api_key=${API_KEY}`;\r\n  let url = endPoint + params;\r\n  try {\r\n    const result = await axios.get(url);\r\n    const movieDetails = result.data\r\n     if (result.status === 400) throw new Error();\r\n      // console.log(movieDetails);\r\n    if (result.status === 200) return movieDetails;\r\n    // console.log(movies);\r\n  } catch (error) {\r\n    // console.log('Error', error);\r\n      return error.message;\r\n  }   \r\n}\r\n\r\nexport async function getMovieCast(movieID) {\r\n  let endPoint = `movie/${movieID}/credits`;\r\n  let params = `?api_key=${API_KEY}`;\r\n  let url = endPoint + params;\r\n  try {\r\n    const result = await axios.get(url);\r\n    const movieDetailsCast = result.data.cast\r\n     if (result.status === 400) throw new Error();\r\n      // console.log(movieDetailsCast);\r\n    if (result.status === 200) return movieDetailsCast;\r\n    // console.log(movies);\r\n  } catch (error) {\r\n    // console.log('Error', error);\r\n      return error.message;\r\n  } \r\n  // return await axios.get(`movie/${movieID}/credits?api_key=${API_KEY}`)  \r\n}\r\n\r\nexport async function getMovieReviews(movieID) {\r\n  let endPoint = `movie/${movieID}/reviews`;\r\n  let params = `?api_key=${API_KEY}`;\r\n  let url = endPoint + params;\r\n  try {\r\n    const result = await axios.get(url);\r\n    const movieDetailsReviews = result.data.results;\r\n     if (result.status === 400) throw new Error();\r\n      // console.log(movieDetailsReviews);\r\n    if (result.status === 200) return movieDetailsReviews;\r\n    // console.log(movies);\r\n  } catch (error) {\r\n    // console.log('Error', error);\r\n      return error.message;\r\n  } \r\n  // return axios.get(`movie/${movieID}/reviews?api_key=${API_KEY}`)  \r\n}\r\n\r\n\r\n// export const moviesAPI = {\r\n//   getTrending,\r\n//   searchMovies,\r\n//   getMovieDetails,\r\n//   getMovieCredits,\r\n//   getMovieReviews\r\n// }\r\n\r\n\r\n// const options = [\r\n//   {\r\n//     name: \"trending\",\r\n//     endPoint: \"trending\",\r\n//     mediaType: \"movie\", //['all', 'movie', 'tv', 'person']\r\n//     timeWindow: \"week\",//['day','week'],    \r\n//   },\r\n//   {\r\n//     name: \"search\",\r\n//     endPoint: \"search/movie\",\r\n//     query:'', //required\r\n//     page: 1, //min 1, max 1000\r\n//     language: '',//Pass a ISO 639-1 value to display translated data for the fields that support it.     \r\n//   include_adult: false,//true\r\n// region:'' ,//Specify a ISO 3166-1 code to filter release dates. Must be uppercase.\r\n// year:null,//\r\n// primary_release_year:null//\r\n//   }\r\n// ]\r\n\r\n// URL=baseURL+trending/{media_type}/{time_window}?api_key=''\r\n\r\n\r\n\r\n\r\n\r\n// const BASE_URL = 'http://localhost:4040';\r\n\r\n// async function fetchWithErrorHandling(url = '', config = {}) {\r\n//   const response = await fetch(url, config);\r\n//   return response.ok\r\n//     ? await response.json()\r\n//     : Promise.reject(new Error('Not found'));\r\n// }\r\n\r\n// export function fetchAuthors() {\r\n//   return fetchWithErrorHandling(`${BASE_URL}/authors?_embed=books`);\r\n// }\r\n\r\n// export function fetchBooks() {\r\n//   return fetchWithErrorHandling(`${BASE_URL}/books`);\r\n// }\r\n\r\n// export function fetchBookById(bookId) {\r\n//   return fetchWithErrorHandling(`${BASE_URL}/books/${bookId}?_expand=author`);\r\n// }","import styles from './PageTitle.module.css';\r\n\r\nexport default function PageTitle({ text }) {\r\n  return <h1 className={styles.title}>{text}</h1>;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"PageTitle_title__Wnaxn\"};","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// import PropTypes from 'prop-types';\r\n\r\nimport styles from './GalleryItem.module.css';\r\n// GalleryItem.propTypes = {\r\n\r\n// };\r\n\r\nfunction GalleryItem({ movieID, backdrop, title, rating, releaseDate, cbOnClick }) {\r\n  const handleClick = () => cbOnClick(movieID);\r\n  return (\r\n    <li className={styles.item}  onClick={handleClick}>\r\n      <Link to={`/movies/${movieID}`} className={styles.Link}>\r\n        <article className={styles.card}>\r\n          <img className={styles.cardImage} src={backdrop} alt={title} />\r\n          <div className={styles.cardContent}>\r\n            <h2 className={styles.movieName}>{title}</h2>\r\n            <p className={styles.movieRating}> Rating:\r\n              {/* <i className=\"material-icons\"> monetization_on </i> */}\r\n              {rating}\r\n            </p>\r\n            <p className={styles.movieReleaseDate}>Movie released at: {releaseDate}</p>\r\n          </div>\r\n        </article>\r\n      </Link>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default GalleryItem;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"GalleryItem_item__3Gnxk\",\"Link\":\"GalleryItem_Link__t9C8I\",\"card\":\"GalleryItem_card__1kstY\",\"cardContent\":\"GalleryItem_cardContent__3Ncw7\",\"cardImage\":\"GalleryItem_cardImage__3wT9D\",\"movieName\":\"GalleryItem_movieName__2IWQ6\",\"movieReleaseDate\":\"GalleryItem_movieReleaseDate__1bG65\",\"movieRating\":\"GalleryItem_movieRating__3LYYy\",\"portfolio__item\":\"GalleryItem_portfolio__item__1Fg_n\",\"portfolio__link\":\"GalleryItem_portfolio__link__CUJJF\",\"portfolio__item-description\":\"GalleryItem_portfolio__item-description__37C9J\",\"portfolio__item-title\":\"GalleryItem_portfolio__item-title__1g1l_\",\"portfolio__item-filter\":\"GalleryItem_portfolio__item-filter__1cGRa\"};","export default \"data:image/jpeg;base64,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\"","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport { getTrending } from '../../services/movies-api';\r\nimport { useState, useEffect } from 'react';\r\nimport GalleryItem from '../../components/GalleryItem/GalleryItem';\r\nimport PageTitle from '../../components/PageTitle/PageTitle';\r\nimport default_backdrop from '../../images/default_backdrop.jpg';\r\n\r\n// HomePage.propTypes = {\r\n\r\n// };\r\n\r\nfunction HomePage({  \r\n  history,\r\n}) {\r\n  const [movies, setMovies] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(0)\r\n  const { push, location } = history;\r\n\r\n  useEffect(() => {\r\n   if (!currentPage) { return };\r\n    console.log('didUpdate HomePage pageNumber :>> ', currentPage);\r\n      getTrending(currentPage)\r\n        .then(response => {\r\n          setMovies([...movies, ...response.results]);\r\n        })\r\n        .catch((error) => console.log(error.message))\r\n\r\n    // eslint-disable-next-line\r\n  }, [currentPage]);\r\n\r\n  useEffect(() => {\r\n    document.documentElement.scrollTop = 0;\r\n    console.log('HomePage didMount', document.documentElement);\r\n\r\n    getTrending(currentPage)\r\n      .then((response) => {\r\n        setMovies([...response.results]);       \r\n        setTotalPages(response.total_results);\r\n     })\r\n  \r\n\r\n    document.addEventListener('scroll', scrollHandler);\r\n    return function () {\r\n      document.removeEventListener('scroll', scrollHandler)}\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n    const scrollHandler = (e) => {\r\n      console.log('scrolling HomePage');\r\n\r\n      let differenceHeight = e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight);      \r\n      if (differenceHeight < 200 && currentPage < totalPages) {\r\n        console.log('differenceHeight < 200:', differenceHeight);      \r\n        setCurrentPage(prevPage => prevPage + 1)\r\n  }\r\n    }\r\n\r\n  const getLocation = pathname => ({\r\n    state: {\r\n      from: location,\r\n    },\r\n    pathname,\r\n  });\r\n\r\n  const openMovieDetailsPage = movieID =>\r\n    push(getLocation('/movies/' + movieID));\r\n  \r\n  return (\r\n    <>\r\n      <PageTitle text=\"Trending today\" />\r\n\r\n      <ul className=\"moviesList\" id=\"moviesList\">\r\n        {movies &&\r\n          movies.map(\r\n            ({\r\n              id,\r\n              backdrop_path,\r\n              original_title,\r\n              vote_average,\r\n              release_date,\r\n            }) => {\r\n              let backdrop = backdrop_path\r\n                ? `https://image.tmdb.org/t/p/w780/${backdrop_path}`\r\n                : default_backdrop;\r\n              return (\r\n                <GalleryItem\r\n                  key={id}\r\n                  backdrop={backdrop}\r\n                  title={original_title}\r\n                  rating={vote_average}\r\n                  releaseDate={release_date}\r\n                  movieID={id}\r\n                  cbOnClick={openMovieDetailsPage}\r\n                />\r\n              );\r\n            }\r\n          )}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"],"sourceRoot":""}