{"version":3,"sources":["components/GalleryItem/GalleryItem.jsx","components/GalleryItem/GalleryItem.module.css","images/default_backdrop.jpg","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","pages/HomePage/HomePage.jsx","components/PageTitle/PageTitle.jsx","services/movies-api.js","components/PageTitle/PageTitle.module.css"],"names":["GalleryItem","movieID","backdrop","title","rating","releaseDate","cbOnClick","className","styles","item","onClick","to","Link","card","cardImage","src","alt","cardContent","movieName","movieRating","movieReleaseDate","module","exports","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","HomePage","history","match","useState","movies","setMovies","currentPage","setCurrentPage","totalPages","setTotalPages","push","location","useEffect","console","log","getTrending","then","response","results","catch","error","message","document","documentElement","scrollTop","total_results","addEventListener","scrollHandler","removeEventListener","e","target","scrollHeight","differenceHeight","window","innerHeight","prevPage","openMovieDetailsPage","state","pathname","text","id","map","backdrop_path","original_title","vote_average","release_date","default_backdrop","PageTitle","API_KEY","pageNumber","a","params","url","axios","get","result","data","status","Error","searchMovies","searchQuery","getMovieDetails","endPoint","movieDetails","getMovieCast","movieDetailsCast","cast","getMovieReviews","movieDetailsReviews","defaults","baseURL"],"mappings":"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","file":"static/js/6.1ba34bc4.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// import PropTypes from 'prop-types';\r\n\r\nimport styles from './GalleryItem.module.css';\r\n// GalleryItem.propTypes = {\r\n\r\n// };\r\n\r\nfunction GalleryItem({ movieID, backdrop, title, rating, releaseDate, cbOnClick }) {\r\n  const handleClick = () => cbOnClick(movieID);\r\n  return (\r\n    <li className={styles.item}  onClick={handleClick}>\r\n      <Link to={`/movies/${movieID}`} className={styles.Link}>\r\n        <article className={styles.card}>\r\n          <img className={styles.cardImage} src={backdrop} alt={title} />\r\n          <div className={styles.cardContent}>\r\n            <h2 className={styles.movieName}>{title}</h2>\r\n            <p className={styles.movieRating}> Rating:\r\n              {/* <i className=\"material-icons\"> monetization_on </i> */}\r\n              {rating}\r\n            </p>\r\n            <p className={styles.movieReleaseDate}>Movie released at: {releaseDate}</p>\r\n          </div>\r\n        </article>\r\n      </Link>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default GalleryItem;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"GalleryItem_item__2yA08\",\"Link\":\"GalleryItem_Link__1wj65\",\"card\":\"GalleryItem_card__3Uqpj\",\"cardContent\":\"GalleryItem_cardContent__RqBAy\",\"cardImage\":\"GalleryItem_cardImage__1yBX9\",\"movieName\":\"GalleryItem_movieName__1TFU0\",\"movieReleaseDate\":\"GalleryItem_movieReleaseDate__3o1Xu\",\"movieRating\":\"GalleryItem_movieRating__19GP1\",\"portfolio__item\":\"GalleryItem_portfolio__item__2YI9x\",\"portfolio__link\":\"GalleryItem_portfolio__link__2RMV4\",\"portfolio__item-description\":\"GalleryItem_portfolio__item-description__ljiCJ\",\"portfolio__item-title\":\"GalleryItem_portfolio__item-title__19bGf\",\"portfolio__item-filter\":\"GalleryItem_portfolio__item-filter__2rXQm\"};","export default __webpack_public_path__ + \"static/media/default_backdrop.5312a185.jpg\";","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport { getTrending } from '../../services/movies-api';\r\nimport { useState, useEffect } from 'react';\r\nimport GalleryItem from '../../components/GalleryItem/GalleryItem';\r\nimport PageTitle from '../../components/PageTitle/PageTitle';\r\nimport default_backdrop from '../../images/default_backdrop.jpg';\r\n\r\n// HomePage.propTypes = {\r\n\r\n// };\r\n\r\nfunction HomePage({  \r\n  history,\r\n  match\r\n}) {\r\n  const [movies, setMovies] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(0)\r\n  const { push, location } = history;\r\n\r\n  useEffect(() => {\r\n  //  if (!currentPage) { return };\r\n    console.log('didUpdate HOME PAGE pageNumber :>> ', currentPage);\r\n    console.log('didUpdate HOME PAGE match :>> ', match);\r\n      getTrending(currentPage)\r\n        .then(response => {\r\n          setMovies([...movies, ...response.results]);\r\n        })\r\n        .catch((error) => console.log(error.message))\r\n\r\n    // eslint-disable-next-line\r\n  }, [currentPage]);\r\n\r\n  useEffect(() => {\r\n    document.documentElement.scrollTop = 0;\r\n    console.log('HOME PAGE didMount');\r\n\r\n    getTrending(currentPage)\r\n      .then((response) => {\r\n        setMovies([...response.results]);       \r\n        setTotalPages(response.total_results);\r\n     })\r\n  \r\n\r\n    document.addEventListener('scroll', scrollHandler);\r\n    return function () {\r\n      document.removeEventListener('scroll', scrollHandler)}\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n    const scrollHandler = (e) => {\r\n      console.log('scrolling HomePage', e.target.documentElement);\r\n      console.log('scrollHeight HomePage', e.target.documentElement.scrollHeight);\r\n      console.log('scrollTop HomePage', e.target.documentElement.scrollTop);\r\n\r\n      let differenceHeight = e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight);      \r\n      if (differenceHeight < (window.innerHeight/3) && currentPage < totalPages) {\r\n        console.log('differenceHeight < 200:', differenceHeight);      \r\n        setCurrentPage(prevPage => prevPage + 1)\r\n  }\r\n    }\r\n\r\n  const getLocation = pathname => ({\r\n    state: {\r\n      from: location,\r\n    },\r\n    pathname,\r\n  });\r\n\r\n  const openMovieDetailsPage = movieID =>\r\n    push(getLocation('/movies/' + movieID));\r\n  \r\n  return (\r\n    <>\r\n      <PageTitle text=\"Trending today\" />\r\n\r\n      <ul className=\"moviesList\" id=\"moviesList\">\r\n        {movies &&\r\n          movies.map(\r\n            ({\r\n              id,\r\n              backdrop_path,\r\n              original_title,\r\n              vote_average,\r\n              release_date,\r\n            }) => {\r\n              let backdrop = backdrop_path\r\n                ? `https://image.tmdb.org/t/p/w780/${backdrop_path}`\r\n                : default_backdrop;\r\n              return (\r\n                <GalleryItem\r\n                  key={id}\r\n                  backdrop={backdrop}\r\n                  title={original_title}\r\n                  rating={vote_average}\r\n                  releaseDate={release_date}\r\n                  movieID={id}\r\n                  cbOnClick={openMovieDetailsPage}\r\n                />\r\n              );\r\n            }\r\n          )}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n","import styles from './PageTitle.module.css';\r\n// import { useHistory } from \"react-router-dom\";\r\n\r\nexport default function PageTitle({ text }) {\r\n  // const { push, location } = useHistory();\r\n  // console.log('PAGE_TITLE component location STATE:', location.state);\r\n\r\n  return <h1 className={styles.title}>{text}</h1>;\r\n}","import axios from 'axios';\r\n\r\nconst API_KEY = '12ae81efe6e825dc1785f3d595e1c6cf';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\r\n\r\n// async function fetchWithErrorHandling(url = '', config = {}) {\r\n//   const response = await fetch(url, config);\r\n//   return response.ok\r\n//     ? await response.json()\r\n//     : Promise.reject(new Error('Not found'));\r\n// }\r\n\r\nexport async function getTrending(pageNumber) {\r\n  let endPoint = `trending/movie/week`;\r\n  let params = `?api_key=${API_KEY}&page=${pageNumber}`;\r\n  let url = endPoint + params;\r\n  try {\r\n    const result = await axios.get(url);\r\n    const movies = result.data\r\n     if (result.status === 400) throw new Error();\r\n      // console.log(movies);\r\n    if (result.status === 200) return movies;\r\n    // console.log(movies);\r\n  } catch (error) {\r\n    // console.log('Error', error);\r\n      return error.message;\r\n  }  \r\n}\r\n\r\nexport async function searchMovies(pageNumber, searchQuery) {\r\n  let endPoint = `search/movie`;\r\n  let params = `?api_key=${API_KEY}&page=${pageNumber}&query=${searchQuery}`;\r\n  let url = endPoint + params;\r\n  try {\r\n    const result = await axios.get(url);\r\n    const movies = result.data\r\n     if (result.status === 400) throw new Error();\r\n      // console.log(result);\r\n    if (result.status === 200) return movies;\r\n    // console.log(movies);\r\n  } catch (error) {\r\n    // console.log('Error', error);\r\n      return error.message;\r\n  }  \r\n  \r\n  \r\n}\r\n\r\nexport async function getMovieDetails(movieID) {\r\n  let endPoint = `movie/${movieID}`;\r\n  let params = `?api_key=${API_KEY}`;\r\n  let url = endPoint + params;\r\n  try {\r\n    const result = await axios.get(url);\r\n    const movieDetails = result.data\r\n     if (result.status === 400) throw new Error();\r\n      // console.log(movieDetails);\r\n    if (result.status === 200) return movieDetails;\r\n    // console.log(movies);\r\n  } catch (error) {\r\n    // console.log('Error', error);\r\n      return error.message;\r\n  }   \r\n}\r\n\r\nexport async function getMovieCast(movieID) {\r\n  let endPoint = `movie/${movieID}/credits`;\r\n  let params = `?api_key=${API_KEY}`;\r\n  let url = endPoint + params;\r\n  try {\r\n    const result = await axios.get(url);\r\n    const movieDetailsCast = result.data.cast\r\n     if (result.status === 400) throw new Error();\r\n      // console.log(movieDetailsCast);\r\n    if (result.status === 200) return movieDetailsCast;\r\n    // console.log(movies);\r\n  } catch (error) {\r\n    // console.log('Error', error);\r\n      return error.message;\r\n  } \r\n  // return await axios.get(`movie/${movieID}/credits?api_key=${API_KEY}`)  \r\n}\r\n\r\nexport async function getMovieReviews(movieID) {\r\n  let endPoint = `movie/${movieID}/reviews`;\r\n  let params = `?api_key=${API_KEY}`;\r\n  let url = endPoint + params;\r\n  try {\r\n    const result = await axios.get(url);\r\n    const movieDetailsReviews = result.data.results;\r\n     if (result.status === 400) throw new Error();\r\n      // console.log(movieDetailsReviews);\r\n    if (result.status === 200) return movieDetailsReviews;\r\n    // console.log(movies);\r\n  } catch (error) {\r\n    // console.log('Error', error);\r\n      return error.message;\r\n  } \r\n  // return axios.get(`movie/${movieID}/reviews?api_key=${API_KEY}`)  \r\n}\r\n\r\n\r\n// export const moviesAPI = {\r\n//   getTrending,\r\n//   searchMovies,\r\n//   getMovieDetails,\r\n//   getMovieCredits,\r\n//   getMovieReviews\r\n// }\r\n\r\n\r\n// const options = [\r\n//   {\r\n//     name: \"trending\",\r\n//     endPoint: \"trending\",\r\n//     mediaType: \"movie\", //['all', 'movie', 'tv', 'person']\r\n//     timeWindow: \"week\",//['day','week'],    \r\n//   },\r\n//   {\r\n//     name: \"search\",\r\n//     endPoint: \"search/movie\",\r\n//     query:'', //required\r\n//     page: 1, //min 1, max 1000\r\n//     language: '',//Pass a ISO 639-1 value to display translated data for the fields that support it.     \r\n//   include_adult: false,//true\r\n// region:'' ,//Specify a ISO 3166-1 code to filter release dates. Must be uppercase.\r\n// year:null,//\r\n// primary_release_year:null//\r\n//   }\r\n// ]\r\n\r\n// URL=baseURL+trending/{media_type}/{time_window}?api_key=''\r\n\r\n\r\n\r\n\r\n\r\n// const BASE_URL = 'http://localhost:4040';\r\n\r\n// async function fetchWithErrorHandling(url = '', config = {}) {\r\n//   const response = await fetch(url, config);\r\n//   return response.ok\r\n//     ? await response.json()\r\n//     : Promise.reject(new Error('Not found'));\r\n// }\r\n\r\n// export function fetchAuthors() {\r\n//   return fetchWithErrorHandling(`${BASE_URL}/authors?_embed=books`);\r\n// }\r\n\r\n// export function fetchBooks() {\r\n//   return fetchWithErrorHandling(`${BASE_URL}/books`);\r\n// }\r\n\r\n// export function fetchBookById(bookId) {\r\n//   return fetchWithErrorHandling(`${BASE_URL}/books/${bookId}?_expand=author`);\r\n// }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"PageTitle_title__1ACpZ\"};"],"sourceRoot":""}